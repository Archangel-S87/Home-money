<div class="title-block">
    <h3 class="title pull-left">{{title.getTitle()}} <span class="sparkline bar"></span></h3>
    <div class="pull-right">
        <button class="btn-sm btn btn-primary-outline" (click)="openFilter()">
            <i class="fa fa-filter"></i>
        </button>
    </div>
</div>

<div class="row text-center" *ngIf="!isLoaded"><wfm-loader></wfm-loader></div>

<div *ngIf="isLoaded">
    <wfm-history-chart [categories]="categories" [events]="filteredEvents"></wfm-history-chart>

    <wfm-history-events [categories]="categories" [events]="filteredEvents"></wfm-history-events>

    <div *ngIf="isFilterVisible">
        <wfm-history-filter
                (onFilterCancel)="onFilterCancel()"
                (onFilterApply)="onFilterApply($event)"
                [categories]="categories"
        ></wfm-history-filter>
    </div>
</div>
